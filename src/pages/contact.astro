---
import Layout from '../layouts/Layout.astro';
import { SITE_DATA } from '../constants';
---

<Layout title="お問い合わせ">
  <main class="max-w-3xl mx-auto py-16 px-6">
    <h1 class="text-3xl font-extrabold border-l-4 border-yellow-400 pl-4 mb-8">お問い合わせ</h1>
    
    <p class="text-slate-600 mb-10 leading-relaxed">
      弊社サービスへのご質問、案件のご相談など、お気軽にお問い合わせください。<br />
      内容を確認後、担当者より折り返しご連絡させていただきます。
    </p>

    <form class="space-y-6">
      <div>
        <label class="block text-sm font-bold text-slate-700 mb-2">
          お問い合わせ種類 <span class="text-red-500 font-normal text-xs">※必須</span>
        </label>
        <select class="w-full border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 focus:border-transparent outline-none bg-white" required>
          <option value="">選択してください</option>
          <option value="SES協業のご相談について">SES協業のご相談について</option>
          <option value="フリーランス登録について">フリーランス登録について</option>
          <option value="採用について">採用について</option>
          <option value="その他">その他</option>
        </select>
      </div>

      <div class="space-y-4">
        <div>
          <label class="block text-sm font-bold text-slate-700 mb-2">貴社名</label>
          <input 
            type="text" 
            id="company-input"
            class="w-full border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 outline-none" 
          />
        </div>
        
        <div id="company-extra-fields" class="hidden space-y-4 border-l-2 border-slate-100 pl-4 transition-all duration-300">
          <div>
            <label class="block text-sm font-bold text-slate-700 mb-2">会社所在地</label>
            <div class="grid md:grid-cols-4 gap-4">
              <input type="text" placeholder="郵便番号" class="md:col-span-1 border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 outline-none" />
              <input type="text" placeholder="住所" class="md:col-span-3 border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 outline-none" />
            </div>
          </div>
          <div>
            <label class="block text-sm font-bold text-slate-700 mb-2">会社ホームページURL</label>
            <input type="url" placeholder="https://example.com" class="w-full border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 outline-none" />
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-bold text-slate-700 mb-2">部署名</label>
            <input type="text" class="w-full border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 outline-none" />
          </div>
          <div>
            <label class="block text-sm font-bold text-slate-700 mb-2">役職名</label>
            <input type="text" class="w-full border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 outline-none" />
          </div>
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-bold text-slate-700 mb-2">
            氏名 <span class="text-red-500 font-normal text-xs">※必須</span>
          </label>
          <input type="text" placeholder="山田 太郎" class="w-full border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 outline-none" required />
        </div>
        <div>
          <label class="block text-sm font-bold text-slate-700 mb-2">
            フリガナ <span class="text-red-500 font-normal text-xs">※必須</span>
          </label>
          <input type="text" placeholder="ヤマダ タロウ" class="w-full border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 outline-none" required />
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-bold text-slate-700 mb-2">
            メールアドレス <span class="text-red-500 font-normal text-xs">※必須</span>
          </label>
          <input type="email" placeholder="example@sbt-inc.co.jp" class="w-full border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 outline-none" required />
        </div>
        <div>
          <label class="block text-sm font-bold text-slate-700 mb-2">
            電話番号 <span class="text-red-500 font-normal text-xs">※必須</span>
          </label>
          <input type="tel" class="w-full border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 outline-none" required />
        </div>
      </div>

      <div>
        <label class="block text-sm font-bold text-slate-700 mb-2">
          お問い合わせ内容 <span class="text-red-500 font-normal text-xs">※必須</span>
        </label>
        <textarea rows="6" class="w-full border border-slate-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-yellow-400 outline-none" required></textarea>
      </div>

      <div class="bg-slate-50 p-6 rounded-lg border border-slate-100">
        <p class="text-xs text-slate-600 mb-4 text-center">
          ご入力いただいた個人情報は、お問い合わせへの回答および弊社のサービス提供の目的にのみ利用いたします。<br />
          送信前に弊社の
          <a href="/privacy" target="_blank" rel="noopener noreferrer" class="text-blue-600 underline hover:text-blue-800">
            個人情報保護方針
          </a>
          をご確認ください。
        </p>
        <div class="flex justify-center items-center gap-2">
          <input type="checkbox" id="agree" class="w-4 h-4 cursor-pointer" required />
          <label for="agree" class="text-sm font-bold text-slate-700 cursor-pointer">同意して送信する</label>
        </div>
      </div>

      <div class="text-center">
        <button type="submit" class="bg-slate-800 text-white font-bold py-4 px-12 rounded-full hover:bg-slate-700 transition shadow-lg">
          上記の内容で送信する
        </button>
      </div>
    </form>
  </main>
</Layout>

<script>
  const companyInput = document.getElementById('company-input') as HTMLInputElement;
  const companyExtraFields = document.getElementById('company-extra-fields');

  companyInput?.addEventListener('input', () => {
    if (companyInput.value.trim().length > 0) {
      companyExtraFields?.classList.remove('hidden');
    } else {
      companyExtraFields?.classList.add('hidden');
    }
  });
</script>